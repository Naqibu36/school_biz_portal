<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>سکول اور بزنس پورٹل</title>
  <style>
    body { font-family: sans-serif; background: #f5f5f5; margin:0; padding:0; }
    header { background: #2e7d32; color: white; padding: 10px; text-align:center; }
    section { margin: 20px; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1);}
    h2 { color: #2e7d32; }
    input, button { padding: 8px; margin:5px; border-radius:4px; border:1px solid #ccc;}
    button { cursor:pointer; background:#2e7d32; color:white; border:none;}
    button.edit { background:#388e3c; }
    button.delete { background:#c62828; }
    table { width:100%; border-collapse: collapse; margin-top:10px; }
    th, td { border:1px solid #ccc; padding:8px; text-align:center; }
  </style>
</head>
<body>
  <header>
    <h1>سکول اور بزنس پورٹل</h1>
  </header>

  <!-- سکول سیکشن -->
  <section id="school-section">
    <h2>سکول سیکشن</h2>
    <!-- یہاں سکول کا پرانا HTML سب شامل کریں -->
    <p>یہاں سکول سیکشن کا مکمل ڈیٹا اور فیچرز موجود ہیں۔</p>
  </section>

  <!-- بزنس سیکشن -->
  <section id="business-section">
    <h2>بزنس سیکشن</h2>

    <!-- کسٹمر رجسٹریشن / لاگ ان -->
    <div id="auth-section">
      <h3>رجسٹریشن / لاگ ان</h3>
      <input type="text" id="customer-name" placeholder="نام">
      <input type="email" id="customer-email" placeholder="ای میل">
      <input type="password" id="customer-password" placeholder="پاسورڈ">
      <button onclick="registerCustomer()">رجسٹر کریں</button>
      <button onclick="loginCustomer()">لاگ ان</button>
      <button onclick="resetPassword()">پاسورڈ بھول گئے؟</button>
      <p id="auth-msg" style="color:red;"></p>
    </div>

    <!-- گوگل لاگ ان -->
    <div id="google-signin">
      <h3>گوگل سے لاگ ان کریں</h3>
      <button onclick="googleLogin()">گوگل سے لاگ ان کریں</button>
    </div>

    <!-- فیس بک لاگ ان -->
    <div id="facebook-signin">
      <h3>فیس بک سے لاگ ان کریں</h3>
      <button onclick="facebookLogin()">فیس بک سے لاگ ان کریں</button>
    </div>

    <!-- بزنس ڈیٹا ٹیبل -->
    <h3>کسٹمر ڈیٹا</h3>
    <table id="customer-table">
      <thead>
        <tr>
          <th>نام</th>
          <th>ای میل</th>
          <th>ایڈیٹ</th>
          <th>ڈیلیٹ</th>
        </tr>
      </thead>
      <tbody>
        <!-- کسٹمر ڈیٹا یہاں ظاہر ہوگا -->
      </tbody>
    </table>
  </section>

  <script>
    // کسٹمر ڈیٹا اسٹور کرنے کیلئے لوکل اسٹوریج استعمال
    let customers = JSON.parse(localStorage.getItem('customers') || '[]');
    let loggedInCustomer = null;

    function renderTable() {
      const tbody = document.querySelector("#customer-table tbody");
      tbody.innerHTML = '';
      customers.forEach((c, index) => {
        if(loggedInCustomer && c.email === loggedInCustomer.email){
          const row = document.createElement('tr');
          row.innerHTML = `
            <td>${c.name}</td>
            <td>${c.email}</td>
            <td><button class="edit" onclick="editCustomer(${index})">ایڈیٹ</button></td>
            <td><button class="delete" onclick="deleteCustomer(${index})">ڈیلیٹ</button></td>
          `;
          tbody.appendChild(row);
        }
      });
    }

    function registerCustomer() {
      const name = document.getElementById('customer-name').value;
      const email = document.getElementById('customer-email').value;
      const password = document.getElementById('customer-password').value;

      if(!name || !email || !password){
        document.getElementById('auth-msg').innerText = 'تمام فیلڈز پُر کریں';
        return;
      }
      if(customers.find(c => c.email === email)){
        document.getElementById('auth-msg').innerText = 'ای میل پہلے سے موجود ہے';
        return;
      }
      const customer = {name, email, password};
      customers.push(customer);
      localStorage.setItem('customers', JSON.stringify(customers));
      document.getElementById('auth-msg').innerText = 'رجسٹریشن کامیاب! اب لاگ ان کریں';
    }

    function loginCustomer() {
      const email = document.getElementById('customer-email').value;
      const password = document.getElementById('customer-password').value;

      const customer = customers.find(c => c.email === email && c.password === password);
      if(customer){
        loggedInCustomer = customer;
        document.getElementById('auth-msg').innerText = `خوش آمدید ${customer.name}`;
        renderTable();
      } else {
        document.getElementById('auth-msg').innerText = 'ای میل یا پاسورڈ غلط ہے';
      }
    }

    function resetPassword() {
      const email = document.getElementById('customer-email').value;
      const customer = customers.find(c => c.email === email);
      if(customer){
        const newPass = prompt('نیا پاسورڈ درج کریں');
        if(newPass) {
          customer.password = newPass;
          localStorage.setItem('customers', JSON.stringify(customers));
          alert('پاسورڈ کامیابی سے ری سیٹ ہو گیا');
        }
      } else {
        alert('ای میل موجود نہیں');
      }
    }

    function editCustomer(index) {
      const newName = prompt('نیا نام درج کریں', customers[index].name);
      if(newName){
        customers[index].name = newName;
        localStorage.setItem('customers', JSON.stringify(customers));
        renderTable();
      }
    }

    function deleteCustomer(index) {
      if(confirm('کیا آپ واقعی ڈیلیٹ کرنا چاہتے ہیں؟')){
        customers.splice(index,1);
        localStorage.setItem('customers', JSON.stringify(customers));
        renderTable();
      }
    }

    // صفحہ لوڈ پر ٹیبل ریڈر کریں
    renderTable();

    // گوگل لاگ ان
    function googleLogin() {
      // گوگل لاگ ان کا کوڈ یہاں شامل کریں
    }

    // فیس بک لاگ ان
    function facebookLogin() {
      // فیس بک لاگ ان کا کوڈ یہاں شامل کریں
    }
  </script>
</body>
</html>
